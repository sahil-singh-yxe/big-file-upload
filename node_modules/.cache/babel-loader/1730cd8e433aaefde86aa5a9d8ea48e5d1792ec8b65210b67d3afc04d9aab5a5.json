{"ast":null,"code":"const Crypto = require(\"crypto-js\");\nexport default class Signature {\n  static getSignature(config, date, policyBase64) {\n    const getSignatureKey = (key, dateStamp, regionName) => {\n      const kDate = Crypto.HmacSHA256(dateStamp, \"AWS4\" + key);\n      const kRegion = Crypto.HmacSHA256(regionName, kDate);\n      const kService = Crypto.HmacSHA256(\"s3\", kRegion);\n      const kSigning = Crypto.HmacSHA256(\"aws4_request\", kService);\n      return kSigning;\n    };\n    const signature = policyEncoded => {\n      return Crypto.HmacSHA256(policyEncoded, getSignatureKey(config.secretAccessKey, date, config.region)).toString(Crypto.enc.Hex);\n    };\n    return signature(policyBase64);\n  }\n}","map":{"version":3,"names":["Crypto","require","Signature","getSignature","config","date","policyBase64","getSignatureKey","key","dateStamp","regionName","kDate","HmacSHA256","kRegion","kService","kSigning","signature","policyEncoded","secretAccessKey","region","toString","enc","Hex"],"sources":["/Users/sahilsingh/Desktop/projects/proj-s3/node_modules/react-s3/lib/Signature.js"],"sourcesContent":["const Crypto = require(\"crypto-js\");\n\nexport default class Signature {\n    static getSignature(config, date, policyBase64) {\n        const getSignatureKey = (key, dateStamp, regionName) => {\n            const kDate = Crypto.HmacSHA256(dateStamp, \"AWS4\" + key);\n            const kRegion = Crypto.HmacSHA256(regionName, kDate);\n            const kService = Crypto.HmacSHA256(\"s3\", kRegion);\n            const kSigning = Crypto.HmacSHA256(\"aws4_request\", kService);\n            return kSigning;\n        };\n        const signature = policyEncoded => {\n            return Crypto.HmacSHA256(policyEncoded, getSignatureKey(config.secretAccessKey, date, config.region)).toString(Crypto.enc.Hex);\n        };\n        return signature(policyBase64);\n    }\n}"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,WAAW,CAAC;AAEnC,eAAe,MAAMC,SAAS,CAAC;EAC3B,OAAOC,YAAYA,CAACC,MAAM,EAAEC,IAAI,EAAEC,YAAY,EAAE;IAC5C,MAAMC,eAAe,GAAGA,CAACC,GAAG,EAAEC,SAAS,EAAEC,UAAU,KAAK;MACpD,MAAMC,KAAK,GAAGX,MAAM,CAACY,UAAU,CAACH,SAAS,EAAE,MAAM,GAAGD,GAAG,CAAC;MACxD,MAAMK,OAAO,GAAGb,MAAM,CAACY,UAAU,CAACF,UAAU,EAAEC,KAAK,CAAC;MACpD,MAAMG,QAAQ,GAAGd,MAAM,CAACY,UAAU,CAAC,IAAI,EAAEC,OAAO,CAAC;MACjD,MAAME,QAAQ,GAAGf,MAAM,CAACY,UAAU,CAAC,cAAc,EAAEE,QAAQ,CAAC;MAC5D,OAAOC,QAAQ;IACnB,CAAC;IACD,MAAMC,SAAS,GAAGC,aAAa,IAAI;MAC/B,OAAOjB,MAAM,CAACY,UAAU,CAACK,aAAa,EAAEV,eAAe,CAACH,MAAM,CAACc,eAAe,EAAEb,IAAI,EAAED,MAAM,CAACe,MAAM,CAAC,CAAC,CAACC,QAAQ,CAACpB,MAAM,CAACqB,GAAG,CAACC,GAAG,CAAC;IAClI,CAAC;IACD,OAAON,SAAS,CAACV,YAAY,CAAC;EAClC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}